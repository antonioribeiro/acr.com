/*
 * jQuery autoResize (textarea auto-resizer)
 * @copyright James Padolsey http://james.padolsey.com
 * @version 1.04
 */function is_mobile(){var a=navigator.userAgent.toLowerCase(),b=a.match(/(ipad|ipod|iphone|blackberry|android)/);return b==null?!1:!0}(function(a){a.fn.autoResize=function(b){var c=a.extend({onResize:function(){},animate:!0,animateDuration:150,animateCallback:function(){},extraSpace:20,limit:1e3},b);this.filter("textarea").each(function(){var b=a(this).css({resize:"none","overflow-y":"hidden"}),d=b.height(),e=function(){var c=["height","width","lineHeight","textDecoration","letterSpacing"],d={};a.each(c,function(a,c){d[c]=b.css(c)});return b.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(d).attr("tabIndex","-1").insertBefore(b)}(),f=null,g=function(){e.height(0).val(a(this).val()).scrollTop(1e4);var g=Math.max(e.scrollTop(),d)+c.extraSpace,h=a(this).add(e);if(f===g)return;f=g;if(g>=c.limit){a(this).css("overflow-y","");return}c.onResize.call(this);c.animate&&b.css("display")==="block"?h.stop().animate({height:g},c.animateDuration,c.animateCallback):h.height(g)};b.unbind(".dynSiz").bind("keyup.dynSiz",g).bind("keydown.dynSiz",g).bind("change.dynSiz",g)});return this}})(jQuery);(function(a){a.fn.fitVids=function(b){var c={customSelector:null},d=document.createElement("div"),e=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];d.className="fit-vids-style";d.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>";e.parentNode.insertBefore(d,e);b&&a.extend(c,b);return this.each(function(){var b=["iframe[src^='http://player.vimeo.com']","iframe[src^='http://www.youtube.com']","iframe[src^='http://www.kickstarter.com']","object","embed"];c.customSelector&&b.push(c.customSelector);var d=a(this).find(b.join(","));d.each(function(){var b=a(this),c=this.tagName=="OBJECT"?b.attr("height"):b.height(),d=c/b.width();b.wrap('<div class="fluid-width-video-wrapper" />').parent(".fluid-width-video-wrapper").css("padding-top",d*100+"%");b.removeAttr("height").removeAttr("width")})})}})(jQuery);(function(a){a.InFieldLabels=function(b,c,d){var e=this;e.$label=a(b);e.label=b;e.$field=a(c);e.field=c;e.$label.data("InFieldLabels",e);e.showing=!0;e.init=function(){e.options=a.extend({},a.InFieldLabels.defaultOptions,d);if(e.$field.val()!=""){e.$label.hide();e.showing=!1}e.$field.focus(function(){e.fadeOnFocus()}).blur(function(){e.checkForEmpty(!0)}).bind("keydown.infieldlabel",function(a){e.hideOnChange(a)}).change(function(a){e.checkForEmpty()}).bind("onPropertyChange",function(){e.checkForEmpty()})};e.fadeOnFocus=function(){e.showing&&e.setOpacity(e.options.fadeOpacity)};e.setOpacity=function(a){e.$label.stop().animate({opacity:a},e.options.fadeDuration);e.showing=a>0};e.checkForEmpty=function(a){if(e.$field.val()==""){e.prepForShow();e.setOpacity(a?1:e.options.fadeOpacity)}else e.setOpacity(0)};e.prepForShow=function(a){if(!e.showing){e.$label.css({opacity:0}).show();e.$field.bind("keydown.infieldlabel",function(a){e.hideOnChange(a)})}};e.hideOnChange=function(a){if(a.keyCode==16||a.keyCode==9)return;if(e.showing){e.$label.hide();e.showing=!1}e.$field.unbind("keydown.infieldlabel")};e.init()};a.InFieldLabels.defaultOptions={fadeOpacity:.5,fadeDuration:300};a.fn.inFieldLabels=function(b){return this.each(function(){var d=a(this).attr("for");if(!d)return;var e=a("input#"+d+"[type='text'],"+"input#"+d+"[type='password'],"+"textarea#"+d);if(e.length==0)return;new a.InFieldLabels(this,e[0],b)})}})(jQuery);(function(a){a.scrollToElement=function(b,c){c=c||750;a("html, body").animate({scrollTop:b.offset().top,scrollLeft:b.offset().left},c);return b};a.fn.scrollTo=function(b){b=b||"normal";return a.scrollToElement(this,b)};jQuery.fn.labelify=function(b){b=jQuery.extend({text:"title",labelledClass:""},b);var c={title:function(b){return a(b).attr("title")},label:function(b){return a("label[for="+b.id+"]").text()}},d,e=a(this);return a(this).each(function(){typeof b.text=="string"?d=c[b.text]:d=b.text;if(typeof d!="function")return;var f=d(this);if(!f)return;a(this).data("label",d(this).replace(/\n/g,""));a(this).focus(function(){if(this.value===a(this).data("label")){this.value=this.defaultValue;a(this).removeClass(b.labelledClass)}}).blur(function(){if(this.value===this.defaultValue){this.value=a(this).data("label");a(this).addClass(b.labelledClass)}});var g=function(){e.each(function(){if(this.value===a(this).data("label")){this.value=this.defaultValue;a(this).removeClass(b.labelledClass)}})};a(this).parents("form").submit(g);a(window).unload(g);if(this.value!==this.defaultValue)return;this.value=a(this).data("label");a(this).addClass(b.labelledClass)})}})(jQuery);(function(a){a.extend(a.fn,{validate:function(b){if(this.length){var d=a.data(this[0],"validator");if(d)return d;this.attr("novalidate","novalidate");d=new a.validator(b,this[0]);a.data(this[0],"validator",d);if(d.settings.onsubmit){b=this.find("input, button");b.filter(".cancel").click(function(){d.cancelSubmit=!0});d.settings.submitHandler&&b.filter(":submit").click(function(){d.submitButton=this});this.submit(function(b){function e(){if(d.settings.submitHandler){if(d.submitButton)var b=a("<input type='hidden'/>").attr("name",d.submitButton.name).val(d.submitButton.value).appendTo(d.currentForm);d.settings.submitHandler.call(d,d.currentForm);d.submitButton&&b.remove();return!1}return!0}d.settings.debug&&b.preventDefault();if(d.cancelSubmit){d.cancelSubmit=!1;return e()}if(d.form()){if(d.pendingRequest){d.formSubmitted=!0;return!1}return e()}d.focusInvalid();return!1})}return d}b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,d=a(this[0].form).validate();this.each(function(){b&=d.element(this)});return b},removeAttrs:function(b){var d={},e=this;a.each(b.split(/\s/),function(a,b){d[b]=e.attr(b);e.removeAttr(b)});return d},rules:function(b,d){var e=this[0];if(b){var f=a.data(e.form,"validator").settings,g=f.rules,h=a.validator.staticRules(e);switch(b){case"add":a.extend(h,a.validator.normalizeRule(d));g[e.name]=h;d.messages&&(f.messages[e.name]=a.extend(f.messages[e.name],d.messages));break;case"remove":if(!d){delete g[e.name];return h}var i={};a.each(d.split(/\s/),function(a,b){i[b]=h[b];delete h[b]});return i}}e=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(e),a.validator.classRules(e),a.validator.attributeRules(e),a.validator.staticRules(e)),e);if(e.required){f=e.required;delete e.required;e=a.extend({required:f},e)}return e}});a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}});a.validator=function(b,d){this.settings=a.extend(!0,{},a.validator.defaults,b);this.currentForm=d;this.init()};a.validator.format=function(b,d){if(arguments.length==1)return function(){var d=a.makeArray(arguments);d.unshift(b);return a.validator.format.apply(this,d)};arguments.length>2&&d.constructor!=Array&&(d=a.makeArray(arguments).slice(1));d.constructor!=Array&&(d=[d]);a.each(d,function(a,c){b=b.replace(RegExp("\\{"+a+"\\}","g"),c)});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&this.element(a)},onkeyup:function(a){(a.name in this.submitted||a==this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,d,e){b.type==="radio"?this.findByName(b.name).addClass(d).removeClass(e):a(b).addClass(d).removeClass(e)},unhighlight:function(b,d,e){b.type==="radio"?this.findByName(b.name).removeClass(d).addClass(e):a(b).removeClass(d).addClass(e)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var d=a.data(this[0].form,"validator"),e="on"+b.type.replace(/^validate/,"");d.settings[e]&&d.settings[e].call(d,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var d=this.groups={};a.each(this.settings.groups,function(b,e){a.each(e.split(/\s/),function(a,c){d[c]=b})});var e=this.settings.rules;a.each(e,function(b,d){e[b]=a.validator.normalizeRule(d)});a(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b);this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){this.lastElement=b=this.validationTargetFor(this.clean(b));this.prepareElement(b);this.currentElements=a(b);var d=this.check(b);d?delete this.invalid[b.name]:this.invalid[b.name]=!0;this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers));this.showErrors();return d},showErrors:function(b){if(b){a.extend(this.errorMap,b);this.errorList=[];for(var d in b)this.errorList.push({message:b[d],element:this.findByName(d)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,c;for(c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(a){return a.element.name==b.name}).length==1&&b},elements:function(){var b=this,d={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this);return this.name in d||!b.objectLength(a(this).rules())?!1:d[this.name]=!0})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(b){b=this.validationTargetFor(this.clean(b));var d=a(b).rules(),e=!1,f;for(f in d){var g={method:f,parameters:d[f]};try{var h=a.validator.methods[f].call(this,b.value.replace(/\r/g,""),b,g.parameters);if(h=="dependency-mismatch")e=!0;else{e=!1;if(h=="pending"){this.toHide=this.toHide.not(this.errorsFor(b));return}if(!h){this.formatAndAdd(b,g);return!1}}}catch(i){this.settings.debug&&window.console&&console.log("exception occured when checking element "+b.id+", check the '"+g.method+"' method",i);throw i}}if(!e){this.objectLength(d)&&this.successList.push(b);return!0}},customMetaMessage:function(b,d){if(a.metadata){var e=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return e&&e.messages&&e.messages[d]}},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor==String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a]},defaultMessage:function(b,d){return this.findDefined(this.customMessage(b.name,d),this.customMetaMessage(b,d),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[d],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b.method),d=/\$?\{(\d+)\}/g;typeof c=="function"?c=c.call(this,b.parameters,a):d.test(c)&&(c=jQuery.format(c.replace(d,"{$1}"),b.parameters));this.errorList.push({message:c,element:a});this.errorMap[a.name]=c;this.submitted[a.name]=c},addWrapper:function(a){this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper)));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,d){var e=this.errorsFor(b);if(e.length){e.removeClass(this.settings.validClass).addClass(this.settings.errorClass);e.attr("generated")&&e.html(d)}else{e=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:!0}).addClass(this.settings.errorClass).html(d||"");this.settings.wrapper&&(e=e.hide().show().wrap("<"+this.settings.wrapper+"/>").parent());this.labelContainer.append(e).length||(this.settings.errorPlacement?this.settings.errorPlacement(e,a(b)):e.insertAfter(b))}if(!d&&this.settings.success){e.text("");typeof this.settings.success=="string"?e.addClass(this.settings.success):this.settings.success(e)}this.toShow=this.toShow.add(e)},errorsFor:function(b){var d=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")==d})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]);return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){var d=this.currentForm;return a(document.getElementsByName(b)).map(function(a,c){return c.form==d&&c.name==b&&c||null})},getLength:function(b,d){switch(d.nodeName.toLowerCase()){case"select":return a("option:selected",d).length;case"input":if(this.checkable(d))return this.findByName(d.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,d){return!!a(b,d.form).length},"function":function(a,b){return a(b)}},optional:function(b){return!a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=!0}},stopRequest:function(b,d){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[b.name];if(d&&this.pendingRequest==0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=!1}else if(!d&&this.pendingRequest==0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=!1}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,d){b.constructor==String?this.classRuleSettings[b]=d:a.extend(this.classRuleSettings,b)},classRules:function(b){var d={};(b=a(b).attr("class"))&&a.each(b.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(d,a.validator.classRuleSettings[this])});return d},attributeRules:function(b){var d={};b=a(b);for(var e in a.validator.methods){var f;(f=e==="required"&&typeof a.fn.prop=="function"?b.prop(e):b.attr(e))?d[e]=f:b[0].getAttribute("type")===e&&(d[e]=!0)}d.maxlength&&/-1|2147483647|524288/.test(d.maxlength)&&delete d.maxlength;return d},metadataRules:function(b){if(!a.metadata)return{};var d=a.data(b.form,"validator").settings.meta;return d?a(b).metadata()[d]:a(b).metadata()},staticRules:function(b){var d={},e=a.data(b.form,"validator");e.settings.rules&&(d=a.validator.normalizeRule(e.settings.rules[b.name])||{});return d},normalizeRules:function(b,d){a.each(b,function(e,f){if(f===!1)delete b[e];else if(f.param||f.depends){var g=!0;switch(typeof f.depends){case"string":g=!!a(f.depends,d.form).length;break;case"function":g=f.depends.call(d,d)}g?b[e]=f.param!==undefined?f.param:!0:delete b[e]}});a.each(b,function(e,f){b[e]=a.isFunction(f)?f(d):f});a.each(["minlength","maxlength","min","max"],function(){b[this]&&(b[this]=Number(b[this]))});a.each(["rangelength","range"],function(){b[this]&&(b[this]=[Number(b[this][0]),Number(b[this][1])])});if(a.validator.autoCreateRanges){if(b.min&&b.max){b.range=[b.min,b.max];delete b.min;delete b.max}if(b.minlength&&b.maxlength){b.rangelength=[b.minlength,b.maxlength];delete b.minlength;delete b.maxlength}}b.messages&&delete b.messages;return b},normalizeRule:function(b){if(typeof b=="string"){var d={};a.each(b.split(/\s/),function(){d[this]=!0});b=d}return b},addMethod:function(b,d,e){a.validator.methods[b]=d;a.validator.messages[b]=e!=undefined?e:a.validator.messages[b];d.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,d,e){if(!this.depend(e,d))return"dependency-mismatch";switch(d.nodeName.toLowerCase()){case"select":return(b=a(d).val())&&b.length>0;case"input":if(this.checkable(d))return this.getLength(b,d)>0;default:return a.trim(b).length>0}},remote:function(b,d,e){if(this.optional(d))return"dependency-mismatch";var f=this.previousValue(d);this.settings.messages[d.name]||(this.settings.messages[d.name]={});f.originalMessage=this.settings.messages[d.name].remote;this.settings.messages[d.name].remote=f.message;e=typeof e=="string"&&{url:e}||e;if(this.pending[d.name])return"pending";if(f.old===b)return f.valid;f.old=b;var g=this;this.startRequest(d);var h={};h[d.name]=b;a.ajax(a.extend(!0,{url:e,mode:"abort",port:"validate"+d.name,dataType:"json",data:h,success:function(e){g.settings.messages[d.name].remote=f.originalMessage;var h=e===!0;if(h){var i=g.formSubmitted;g.prepareElement(d);g.formSubmitted=i;g.successList.push(d);g.showErrors()}else{i={};e=e||g.defaultMessage(d,"remote");i[d.name]=f.message=a.isFunction(e)?e(b):e;g.showErrors(i)}f.valid=h;g.stopRequest(d,h)}},e));return"pending"},minlength:function(b,d,e){return this.optional(d)||this.getLength(a.trim(b),d)>=e},maxlength:function(b,d,e){return this.optional(d)||this.getLength(a.trim(b),d)<=e},rangelength:function(b,d,e){b=this.getLength(a.trim(b),d);return this.optional(d)||b>=e[0]&&b<=e[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){d=a.charAt(f);d=parseInt(d,10);e&&(d*=2)>9&&(d-=9);c+=d;e=!e}return c%10==0},accept:function(a,b,c){c=typeof c=="string"?c.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+c+")$","i"))},equalTo:function(b,d,e){e=a(e).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(d).valid()});return b==e.val()}}});a.format=a.validator.format})(jQuery);(function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){c=a.port;if(a.mode=="abort"){b[c]&&b[c].abort();b[c]=d}});else{var c=a.ajax;a.ajax=function(d){var e=("port"in d?d:a.ajaxSettings).port;if(("mode"in d?d:a.ajaxSettings).mode=="abort"){b[e]&&b[e].abort();return b[e]=c.apply(this,arguments)}return c.apply(this,arguments)}}})(jQuery);(function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(b,d){function e(b){b=a.event.fix(b);b.type=d;return a.event.handle.call(this,b)}a.event.special[d]={setup:function(){this.addEventListener(b,e,!0)},teardown:function(){this.removeEventListener(b,e,!0)},handler:function(b){arguments[0]=a.event.fix(b);arguments[0].type=d;return a.event.handle.apply(this,arguments)}}});a.extend(a.fn,{validateDelegate:function(b,d,e){return this.bind(d,function(d){var f=a(d.target);if(f.is(b))return e.apply(f,arguments)})}})})(jQuery);(function(a){a.dxSlider=function(b,c){function i(){if(g.showArrows&&m>p&&!d){h.prepend('<a href="#" class="'+g.arrowClasses.previous+'">'+g.arrowText.prev+"</a>").append('<a href="#" class="'+g.arrowClasses.next+'">'+g.arrowText.next+"</a>");d=!0}w()}function j(){m>p&&(d=!0)}function w(){h.find("."+g.arrowClasses.next).unbind("click").click(function(){g.type=="horizontal"?x("next"):F("next");return!1});h.find("."+g.arrowClasses.previous).unbind("click").click(function(){g.type=="horizontal"?x("previous"):F("previous");return!1})}function x(a){if(m<=p)return;if(t)return;if(o==n&&a=="next")return;if(o==0&&a!="next")return;if(o+parseInt(p)>=m&&a=="next")return;t=!0;a=="next"?m==p+o?o=0:o=o>n?n:o==n?o=0:o+=1:o=o<0?0:o==0?o=m-p:o-=1;y();A();z();E({marginLeft:-o*q},"animate",o)}function y(){if(!g.showArrows)return;o==0?h.find("."+g.arrowClasses.previous).addClass("hidden"):h.find("."+g.arrowClasses.previous).removeClass("hidden");o==m-1?h.find("."+g.arrowClasses.next).addClass("hidden"):h.find("."+g.arrowClasses.next).removeClass("hidden")}function z(){o==n&&h.trigger("lastImage")}function A(){o==0&&h.trigger("firstImage")}function B(b){var c=h.find("li>img").eq(b);if(!g.slideText.state)return;if(c.attr("title")||c.attr("alt")){a(g.slideText.selectorTitle).html(c.attr("title"));a(g.slideText.selectorText).html(c.attr("alt"))}}function C(a){if(t)return;t=!0;margin=-a*q;o=parseInt(a);A();z();E({marginLeft:margin},"animateexact",o)}function D(c){if(!g.setActiveClass)return;c=c?c:0;a("li",b).removeClass("active");a("li:eq("+c+")",b).addClass("active")}function E(c,d,e){if(m<=p){t=!1;D(e);h.trigger(d,{number:e});B(e)}else a(g.ulSelector,b).animate(c,g.speed,function(){D(e);t=!1;h.trigger(d,{number:e});B(e)});g.connection.state&&a(g.connection.target).dxSlider("animateExact",e);O(e)}function F(a){if(m<=p)return;if(t)return;t=!0;a=="next"?m==p+o?o=0:o=o>n?n:o==n?o=0:o+=1:o=o<0?0:o==0?o=m-p:o-=1;E({marginLeft:-o*s},"animatevertical",o)}function G(a){var b=h.find(g.liSelector);k=h.find("."+g.wrapperClass);m=b.length;q=b.innerWidth();q==0&&(q=b.css("width").replace("px","")*1);l=k.width();l==0&&(l=k.css("width").replace("px","")*1);n=m-1;a||(o=0);if(f){A();z()}p=parseInt(l/q)}function H(){var a=h.find(g.liSelector);k=h.find("."+g.wrapperClass);m=a.length;s=a.innerHeight();s==0&&(s=a.css("height").replace("px","")*1);r=k.height();r==0&&(r=k.css("height").replace("px","")*1);n=m-1;o=0;p=r/s}function I(){return m*q}function J(b){a(g.ulSelector,h).css("width",b)}function K(){return a(g.ulSelector,h).width()}function L(){return m*s}function M(b){a(g.ulSelector,h).css("height",b)}function N(){return a(g.ulSelector,h).height()}function O(b){if(!g.dotMod)return;h.find(".sneak-peek-navigation > a").removeClass("sneak-peek-selected");a("#dot_link_"+b).addClass("sneak-peek-selected")}function P(){var b="sneak-peek-selected";if(!g.dotMod||m<=p)return;var c='<div class="sneak-peek-navigation">';for(var d=0;d<m;d++)c+='<a href="javascript:void(0);" id="dot_link_'+d+'">&nbsp;</a>';c+="</div>";var e=a(c);delete dotlist;h.find(".over").prepend(e);e.find("a").click(function(){var b=a(this).attr("id").replace("dot_link_","");C(b);O(b)});a("#dot_link_0").addClass("sneak-peek-selected")}function Q(){if(!g.generateText)return;h.find("li>img").each(function(){var b=a(this);(b.attr("title")||b.attr("alt"))&&b.parent().prepend('<div class="sneak-peek-description"><h2>'+b.attr("title")+"</h2>"+b.attr("alt")+"</div>")})}function R(){if(u)return;typeof is_mobile=="function"&&is_mobile()&&(g.slideshow.audio=!1);if(!g.slideshow.state)return;var b=a('<a href="#" class="slideshow-button">Play slideshow</a>');if(g.slideshow.audio&&a("#niftyPlayer1").length<1){var c='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" width="100" height="100" id="niftyPlayer1" align="">';c+='<param name="movie" value="'+template_dir+'/resources/niftyplayer.swf">';c+='<param name="quality" value="high">';c+='<param name="bgcolor" value="#FFFFFF">';c+='<embed src="'+template_dir+'/resources/niftyplayer.swf" quality=high bgcolor=#FFFFFF width="100" height="100" name="niftyPlayer1" align="" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer">';c+="</embed>";c+="</object>";a("body").append(c)}h.append(b);h.bind("stopSlideshow",function(){U()});if(g.slideshow.animate_button){b.hide();h.hover(function(){b.fadeIn()},function(){b.hide()})}b.click(function(){u?U():T();return!1});g.slideshow.autostart&&setTimeout(function(){T()},g.slideshow.timeout?g.slideshow.timeout:4e3)}function S(){if(!u)return;g.slideshow.audio&&a(g.slideshow.audio_selector,h).attr("href")&&niftyplayer("niftyPlayer1").getPlayingState()=="finished"&&niftyplayer("niftyPlayer1").play();g.type=="horizontal"?x("next"):F("next")}function T(){a(g.commonSelector).trigger("stopSlideshow");if(u)return;v=setInterval(function(){S()},g.slideshow.timeout?g.slideshow.timeout:4e3);u=!0;var b=null;a(".slideshow-button",h).addClass("playing").text("Stop slideshow");g.slideshow.audio&&(b=a(g.slideshow.audio_selector,h).attr("href"))&&niftyplayer("niftyPlayer1").loadAndPlay(b)}function U(){if(!u)return;clearInterval(v);u=!1;a(".slideshow-button",h).removeClass("playing").text("Play slideshow");g.slideshow.audio&&niftyplayer("niftyPlayer1").stop()}function V(a){if(g.type=="horizontal"){G(a);J(I())}else{H();M(L())}i();P();Q();y();R();B(0);D();W();f=!1}function W(){g.scrollTo&&C(g.scrollTo)}function X(c){o+=c;if(g.type=="horizontal"){G();J(I())}else{H();M(L())}i();P();Q();D(o);a(g.ulSelector,b).css("marginLeft",-o*q)}function Y(a){g.debug&&console.log(a)}var d=!1,e={speed:400,type:"horizontal",arrowClasses:{previous:"prev",next:"next"},arrowText:{next:"next",prev:"previous"},wrapperClass:"wrap",dotMod:!1,showArrows:!0,generateText:!1,slideText:{state:!1,selectorTitle:"",selectotText:""},slideshow:{state:!1,audio:!1,audio_selector:".audio-source",timeout:4e3,animate_button:!1,autostart:!1},connection:{state:!1,target:null},setActiveClass:!0,commonSelector:null,liSelector:"li",ulSelector:"ul",scrollTo:!1,debug:!1},f=!0,g=a.extend(e,c),h=a(b);h.find(".wrap")||h.find(g.ulSelector).wrap('<div class="'+g.wrapperClass+'"></div>');var k,l,m,n,o,p,q,r,s,t=!1,u=!1,v=null;V();var Z={reInit:X,getUlWidth:K,animate:x,animateExact:C};return Z};a.fn.dxSlider=function(b,c){return this.each(function(
){if(a(this).data("dxSlider"))typeof b!="undefined"&&a(this).data("dxSlider")[b](c);else{var d=a.dxSlider(this,b);a(this).data("dxSlider",d)}})}})(jQuery);(function(a){function b(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}a.fn.ajaxSubmit=function(c){function r(){function p(){var b=l.attr("target"),c=l.attr("action");d.setAttribute("target",f);d.getAttribute("method")!="POST"&&d.setAttribute("method","POST");d.getAttribute("action")!=e.url&&d.setAttribute("action",e.url);e.skipEncodingOverride||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});e.timeout&&setTimeout(function(){m=!0;t()},e.timeout);var g=[];try{if(e.extraData)for(var j in e.extraData)g.push(a('<input type="hidden" name="'+j+'" value="'+e.extraData[j]+'" />').appendTo(d)[0]);h.appendTo("body");i.attachEvent?i.attachEvent("onload",t):i.addEventListener("load",t,!1);d.submit()}finally{d.setAttribute("action",c);b?d.setAttribute("target",b):l.removeAttr("target");a(g).remove()}}function t(){r=i.contentWindow?i.contentWindow.document:i.contentDocument?i.contentDocument:i.document;if(!r||r.location.href==e.iframeSrc)return;i.detachEvent?i.detachEvent("onload",t):i.removeEventListener("load",t,!1);var c=!0;try{if(m)throw"timeout";var d=e.dataType=="xml"||r.XMLDocument||a.isXMLDoc(r);b("isXml="+d);if(!d&&window.opera&&(r.body==null||r.body.innerHTML=="")&&--s){b("requeing onLoad callback, DOM not available");setTimeout(t,250);return}j.responseText=r.body?r.body.innerHTML:r.documentElement?r.documentElement.innerHTML:null;j.responseXML=r.XMLDocument?r.XMLDocument:r;j.getResponseHeader=function(a){var b={"content-type":e.dataType};return b[a]};var f=/(json|script)/.test(e.dataType);if(f||e.textarea){var g=r.getElementsByTagName("textarea")[0];if(g)j.responseText=g.value;else if(f){var l=r.getElementsByTagName("pre")[0],n=r.getElementsByTagName("body")[0];l?j.responseText=l.textContent:n&&(j.responseText=n.innerHTML)}}else e.dataType=="xml"&&!j.responseXML&&j.responseText!=null&&(j.responseXML=u(j.responseText));q=w(j,e.dataType,e)}catch(o){b("error caught:",o);c=!1;j.error=o;e.error.call(e.context,j,"error",o);k&&a.event.trigger("ajaxError",[j,e,o])}if(j.aborted){b("upload aborted");c=!1}if(c){e.success.call(e.context,q,"success",j);k&&a.event.trigger("ajaxSuccess",[j,e])}k&&a.event.trigger("ajaxComplete",[j,e]);k&&!--a.active&&a.event.trigger("ajaxStop");e.complete&&e.complete.call(e.context,j,c?"success":"error");setTimeout(function(){h.removeData("form-plugin-onload");h.remove();j.responseXML=null},100)}var d=l[0];if(a(":input[name=submit],:input[id=submit]",d).length){alert('Error: Form elements must not have name or id of "submit".');return}var e=a.extend(!0,{},a.ajaxSettings,c);e.context=e.context||e;var f="jqFormIO"+(new Date).getTime(),g="_"+f,h=a('<iframe id="'+f+'" name="'+f+'" src="'+e.iframeSrc+'" />'),i=h[0];h.css({position:"absolute",top:"-1000px",left:"-1000px"});var j={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;h.attr("src",e.iframeSrc)}},k=e.global;k&&!(a.active++)&&a.event.trigger("ajaxStart");k&&a.event.trigger("ajaxSend",[j,e]);if(e.beforeSend&&e.beforeSend.call(e.context,j,e)===!1){e.global&&a.active--;return}if(j.aborted)return;var m=0,n=d.clk;if(n){var o=n.name;if(o&&!n.disabled){e.extraData=e.extraData||{};e.extraData[o]=n.value;if(n.type=="image"){e.extraData[o+".x"]=d.clk_x;e.extraData[o+".y"]=d.clk_y}}}e.forceSync?p():setTimeout(p,10);var q,r,s=50,u=a.parseXML||function(a,b){if(window.ActiveXObject){b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a)}else b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&b.documentElement.nodeName!="parsererror"?b:null},v=a.parseJSON||function(a){return window.eval("("+a+")")},w=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f=c==="xml"||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;f&&g.documentElement.nodeName==="parsererror"&&a.error&&a.error("parsererror");d&&d.dataFilter&&(g=d.dataFilter(g,c));typeof g=="string"&&(c==="json"||!c&&e.indexOf("json")>=0?g=v(g):(c==="script"||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g));return g}}if(!this.length){b("ajaxSubmit: skipping submit process - no element selected");return this}typeof c=="function"&&(c={success:c});var d=this.attr("action"),e=typeof d=="string"?a.trim(d):"";e&&(e=(e.match(/^([^#]+)/)||[])[1]);e=e||window.location.href||"";c=a.extend(!0,{url:e,type:this[0].getAttribute("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);var f={};this.trigger("form-pre-serialize",[this,c,f]);if(f.veto){b("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(c.beforeSerialize&&c.beforeSerialize(this,c)===!1){b("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var g,h,i=this.formToArray(c.semantic);if(c.data){c.extraData=c.data;for(g in c.data)if(c.data[g]instanceof Array)for(var j in c.data[g])i.push({name:g,value:c.data[g][j]});else{h=c.data[g];h=a.isFunction(h)?h():h;i.push({name:g,value:h})}}if(c.beforeSubmit&&c.beforeSubmit(i,this,c)===!1){b("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[i,this,c,f]);if(f.veto){b("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var k=a.param(i);if(c.type.toUpperCase()=="GET"){c.url+=(c.url.indexOf("?")>=0?"&":"?")+k;c.data=null}else c.data=k;var l=this,m=[];c.resetForm&&m.push(function(){l.resetForm()});c.clearForm&&m.push(function(){l.clearForm()});if(!c.dataType&&c.target){var n=c.success||function(){};m.push(function(b){var d=c.replaceTarget?"replaceWith":"html";a(c.target)[d](b).each(n,arguments)})}else c.success&&m.push(c.success);c.success=function(a,b,d){var e=c.context||c;for(var f=0,g=m.length;f<g;f++)m[f].apply(e,[a,b,d||l,l])};var o=a("input:file",this).length>0,p="multipart/form-data",q=l.attr("enctype")==p||l.attr("encoding")==p;c.iframe!==!1&&(o||c.iframe||q)?c.closeKeepAlive?a.get(c.closeKeepAlive,r):r():a.ajax(c);this.trigger("form-submit-notify",[this,c]);return this};a.fn.ajaxForm=function(c){if(this.length===0){var d={s:this.selector,c:this.context};if(!a.isReady&&d.s){b("DOM not ready, queuing ajaxForm");a(function(){a(d.s,d.c).ajaxForm(c)});return this}b("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(b){if(!b.isDefaultPrevented()){b.preventDefault();a(this).ajaxSubmit(c)}}).bind("click.form-plugin",function(b){var c=b.target,d=a(c);if(!d.is(":submit,input:image")){var e=d.closest(":submit");if(e.length==0)return;c=e[0]}var f=this;f.clk=c;if(c.type=="image")if(b.offsetX!=undefined){f.clk_x=b.offsetX;f.clk_y=b.offsetY}else if(typeof a.fn.offset=="function"){var g=d.offset();f.clk_x=b.pageX-g.left;f.clk_y=b.pageY-g.top}else{f.clk_x=b.pageX-c.offsetLeft;f.clk_y=b.pageY-c.offsetTop}setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)})};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(b){var c=[];if(this.length===0)return c;var d=this[0],e=b?d.getElementsByTagName("*"):d.elements;if(!e)return c;var f,g,h,i,j,k,l;for(f=0,k=e.length;f<k;f++){j=e[f];h=j.name;if(!h)continue;if(b&&d.clk&&j.type=="image"){if(!j.disabled&&d.clk==j){c.push({name:h,value:a(j).val()});c.push({name:h+".x",value:d.clk_x},{name:h+".y",value:d.clk_y})}continue}i=a.fieldValue(j,!0);if(i&&i.constructor==Array)for(g=0,l=i.length;g<l;g++)c.push({name:h,value:i[g]});else i!==null&&typeof i!="undefined"&&c.push({name:h,value:i})}if(!b&&d.clk){var m=a(d.clk),n=m[0];h=n.name;if(h&&!n.disabled&&n.type=="image"){c.push({name:h,value:m.val()});c.push({name:h+".x",value:d.clk_x},{name:h+".y",value:d.clk_y})}}return c};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};a.fn.fieldSerialize=function(b){var c=[];this.each(function(){var d=this.name;if(!d)return;var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;f<g;f++)c.push({name:d,value:e[f]});else e!==null&&typeof e!="undefined"&&c.push({name:this.name,value:e})});return a.param(c)};a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;d<e;d++){var f=this[d],g=a.fieldValue(f,b);if(g===null||typeof g=="undefined"||g.constructor==Array&&!g.length)continue;g.constructor==Array?a.merge(c,g):c.push(g)}return c};a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();c===undefined&&(c=!0);if(c&&(!d||b.disabled||e=="reset"||e=="button"||(e=="checkbox"||e=="radio")&&!b.checked||(e=="submit"||e=="image")&&b.form&&b.form.clk!=b||f=="select"&&b.selectedIndex==-1))return null;if(f=="select"){var g=b.selectedIndex;if(g<0)return null;var h=[],i=b.options,j=e=="select-one",k=j?g+1:i.length;for(var l=j?g:0;l<k;l++){var m=i[l];if(m.selected){var n=m.value;n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value);if(j)return n;h.push(n)}}return h}return a(b).val()};a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})};a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var a=this.type,b=this.tagName.toLowerCase();a=="text"||a=="password"||b=="textarea"?this.value="":a=="checkbox"||a=="radio"?this.checked=!1:b=="select"&&(this.selectedIndex=-1)})};a.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})};a.fn.enable=function(a){a===undefined&&(a=!0);return this.each(function(){this.disabled=!a})};a.fn.selected=function(b){b===undefined&&(b=!0);return this.each(function(){var c=this.type;if(c=="checkbox"||c=="radio")this.checked=b;else if(this.tagName.toLowerCase()=="option"){var d=a(this).parent("select");b&&d[0]&&d[0].type=="select-one"&&d.find("option").selected(!1);this.selected=b}})}})(jQuery);(function(a){a.fn.superfish=function(b){var c=a.fn.superfish,d=c.c,e=a(['<span class="',d.arrowClass,'"> &#187;</span>'].join("")),f=function(){var b=a(this),c=h(b);clearTimeout(c.sfTimer);b.showSuperfishUl().siblings().hideSuperfishUl()},g=function(){var b=a(this),d=h(b),e=c.op;clearTimeout(d.sfTimer);d.sfTimer=setTimeout(function(){e.retainPath=a.inArray(b[0],e.$path)>-1;b.hideSuperfishUl();e.$path.length&&b.parents(["li.",e.hoverClass].join("")).length<1&&f.call(e.$path)},e.delay)},h=function(a){var b=a.parents(["ul.",d.menuClass,":first"].join(""))[0];c.op=c.o[b.serial];return b},i=function(a){a.addClass(d.anchorClass).append(e.clone())};return this.each(function(){var e=this.serial=c.o.length,h=a.extend({},c.defaults,b);h.$path=a("li."+h.pathClass,this).slice(0,h.pathLevels).each(function(){a(this).addClass([h.hoverClass,d.bcClass].join(" ")).filter("li:has(ul)").removeClass(h.pathClass)});c.o[e]=c.op=h;a("li:has(ul)",this)[a.fn.hoverIntent&&!h.disableHI?"hoverIntent":"hover"](f,g).each(function(){h.autoArrows&&i(a(">a:first-child",this))}).not("."+d.bcClass).hideSuperfishUl();var j=a("a",this);j.each(function(a){var b=j.eq(a).parents("li");j.eq(a).focus(function(){f.call(b)}).blur(function(){g.call(b)})});h.onInit.call(this)}).each(function(){var b=[d.menuClass];c.op.dropShadows&&!(a.browser.msie&&a.browser.version<7)&&b.push(d.shadowClass);a(this).addClass(b.join(" "))})};var b=a.fn.superfish;b.o=[];b.op={};b.IE7fix=function(){var c=b.op;a.browser.msie&&a.browser.version>6&&c.dropShadows&&c.animation.opacity!=undefined&&this.toggleClass(b.c.shadowClass+"-off")};b.c={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",arrowClass:"sf-sub-indicator",shadowClass:"sf-shadow"};b.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:!0,dropShadows:!0,disableHI:!1,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};a.fn.extend({hideSuperfishUl:function(){var c=b.op,d=c.retainPath===!0?c.$path:"";c.retainPath=!1;var e=a(["li.",c.hoverClass].join(""),this).add(this).not(d).removeClass(c.hoverClass).find(">ul").hide().css("visibility","hidden");c.onHide.call(e);return this},showSuperfishUl:function(){var a=b.op,c=b.c.shadowClass+"-off",d=this.addClass(a.hoverClass).find(">ul:hidden").css("visibility","visible");b.IE7fix.call(d);a.onBeforeShow.call(d);d.animate(a.animation,a.speed,function(){b.IE7fix.call(d);a.onShow.call(d)});return this}})})(jQuery);(function(a,b,c){a.fn.jScrollPane=function(b){function d(b,d){function T(d){var f,q,r,t,u,w,x=!1,y=!1;e=d;if(g===c){u=b.scrollTop();w=b.scrollLeft();b.css({overflow:"hidden",padding:0});h=b.innerWidth()+L;i=b.innerHeight();b.width(h);g=a('<div class="jspPane" />').css("padding",K).append(b.children());j=a('<div class="jspContainer" />').css({width:h+"px",height:i+"px"}).append(g).appendTo(b)}else{b.css("width","");x=e.stickToBottom&&ob();y=e.stickToRight&&pb();t=b.innerWidth()+L!=h||b.outerHeight()!=i;if(t){h=b.innerWidth()+L;i=b.innerHeight();j.css({width:h+"px",height:i+"px"})}if(!t&&M==k&&g.outerHeight()==l){b.width(h);return}M=k;g.css("width","");b.width(h);j.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}g.css("overflow","auto");d.contentWidth?k=d.contentWidth:k=g[0].scrollWidth;l=g[0].scrollHeight;g.css("overflow","");m=k/h;n=l/i;o=n>1;p=m>1;if(!p&&!o){b.removeClass("jspScrollable");g.css({top:0,width:j.width()-L});rb();ub();wb();bb();yb()}else{b.addClass("jspScrollable");f=e.maintainPosition&&(s||v);if(f){q=mb();r=nb()}U();W();Y();if(f){kb(y?k-h:q,!1);jb(x?l-i:r,!1)}tb();qb();Ab();e.enableKeyboardNavigation&&vb();e.clickOnTrack&&ab();xb();e.hijackInternalLinks&&zb()}e.autoReinitialise&&!J?J=setInterval(function(){T(e)},e.autoReinitialiseDelay):!e.autoReinitialise&&J&&clearInterval(J);u&&b.scrollTop(0)&&jb(u,!1);w&&b.scrollLeft(0)&&kb(w,!1);b.trigger("jsp-initialised",[p||o])}function U(){if(o){j.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />')));w=j.find(">.jspVerticalBar");x=w.find(">.jspTrack");q=x.find(">.jspDrag");if(e.showArrows){B=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",$(0,-1)).bind("click.jsp",sb);C=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",$(0,1)).bind("click.jsp",sb);if(e.arrowScrollOnHover){B.bind("mouseover.jsp",$(0,-1,B));C.bind("mouseover.jsp",$(0,1,C))}Z(x,e.verticalArrowPositions,B,C)}z=i;j.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){z-=a(this).outerHeight()});q.hover(function(){q.addClass("jspHover")},function(){q.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",sb);q.addClass("jspActive");var c=b.pageY-q.position().top;a("html").bind("mousemove.jsp",function(a){db(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",cb);return!1});V()}}function V(){x.height(z+"px");s=0;y=e.verticalGutter+x.outerWidth();g.width(h-y-L);try{w.position().left===0&&g.css("margin-left",y+"px")}catch(a){}}function W(){if(p){j.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />')));D=j.find(">.jspHorizontalBar");E=D.find(">.jspTrack");t=E.find(">.jspDrag");if(e.showArrows){H=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",$(-1,0)).bind("click.jsp",sb);I=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",$(1,0)).bind("click.jsp",sb);if(e.arrowScrollOnHover){H.bind("mouseover.jsp",$(-1,0,H));I.bind("mouseover.jsp",$(1,0,I))}Z(E,e.horizontalArrowPositions,H,I)}t.hover(function(){t.addClass("jspHover")},function(){t.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",sb);t.addClass("jspActive");var c=b.pageX-t.position().left;a("html").bind("mousemove.jsp",function(a){fb(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",cb);return!1});F=j.innerWidth();X()}}function X(){j.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){F-=a(this).outerWidth()});E.width(F+"px");v=0}function Y(){if(p&&o){var b=E.outerHeight(),c=x.outerWidth();z-=b;a(D).find(">.jspCap:visible,>.jspArrow").each(function(){F+=a(this).outerWidth()});F-=c;i-=c;h-=b;E.parent().append(a('<div class="jspCorner" />').css("width",b+"px"));V();X()}p&&g.width(j.outerWidth()-L+"px");l=g.outerHeight();n=l/i;if(p){G=Math.ceil(1/m*F);G>e.horizontalDragMaxWidth?G=e.horizontalDragMaxWidth:G<e.horizontalDragMinWidth&&(G=e.horizontalDragMinWidth);t.width(G+"px");u=F-G;gb(v)}if(o){A=Math.ceil(1/n*z);A>e.verticalDragMaxHeight?A=e.verticalDragMaxHeight:A<e.verticalDragMinHeight&&(A=e.verticalDragMinHeight);q.height(A+"px");r=z-A;eb(s)}}function Z(a,b,c,d){var e="before",f="after",g;b=="os"&&(b=/Mac/.test(navigator.platform)?"after":"split");if(b==e)f=b;else if(b==f){e=b;g=c;c=d;d=g}a[e](c)[f](d)}function $(a,b,c){return function(){_(a,b,this,c);this.blur();return!1}}function _(b,c,d,g){d=a(d).addClass("jspActive");var h,i,j=!0,k=function(){b!==0&&f.scrollByX(b*e.arrowButtonSpeed);c!==0&&f.scrollByY(c*e.arrowButtonSpeed);i=setTimeout(k,j?e.initialDelay:e.arrowRepeatFreq);j=!1};k();h=g?"mouseout.jsp":"mouseup.jsp";g=g||a("html");g.bind(h,function(){d.removeClass("jspActive");i&&clearTimeout(i);i=null;g.unbind(h)})}function ab(){bb();o&&x.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d=a(this),g=d.offset(),h=b.pageY-g.top-s,j,k=!0,m=function(){var a=d.offset(),c=b.pageY-a.top-A/2,g=i*e.scrollPagePercent,o=r*g/(l-i);if(h<0)s-o>c?f.scrollByY(-g):db(c);else{if(!(h>0)){n();return}s+o<c?f.scrollByY(g):db(c)}j=setTimeout(m,k?e.initialDelay:e.trackClickRepeatFreq);k=!1},n=function(){j&&clearTimeout(j);j=null;a(document).unbind("mouseup.jsp",n)};m();a(document).bind("mouseup.jsp",n);return!1}});p&&E.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d=a(this),g=d.offset(),i=b.pageX-g.left-v,j,l=!0,m=function(){var a=d.offset(),c=b.pageX-a.left-G/2,g=h*e.scrollPagePercent,o=u*g/(k-h);if(i<0)v-o>c?f.scrollByX(-g):fb(c);else{if(!(i>0)){n();return}v+o<c?f.scrollByX(g):fb(c)}j=setTimeout(m,l?e.initialDelay:e.trackClickRepeatFreq);l=!1},n=function(){j&&clearTimeout(j);j=null;a(document).unbind("mouseup.jsp",n)};m();a(document).bind("mouseup.jsp",n);return!1}})}function bb(){E&&E.unbind("mousedown.jsp");x&&x.unbind("mousedown.jsp")}function cb(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");q&&q.removeClass("jspActive");t&&t.removeClass("jspActive")}function db(a,b){if(!o)return;a<0?a=0:a>r&&(a=r);b===c&&(b=e.animateScroll);if(b)f.animate(q,"top",a,eb);else{q.css("top",a);eb(a)}}function eb(a){a===c&&(a=q.position().top);j.scrollTop(0);s=a;var d=s===0,e=s==r,f=a/r,h=-f*(l-i);if(N!=d||P!=e){N=d;P=e;b.trigger("jsp-arrow-change",[N,P,O,Q])}hb(d,e);g.css("top",h);b.trigger("jsp-scroll-y",[-h,d,e]).trigger("scroll")}function fb(a,b){if(!p)return;a<0?a=0:a>u&&(a=u);b===c&&(b=e.animateScroll);if(b)f.animate(t,"left",a,gb);else{t.css("left",a);gb(a)}}function gb(a){a===c&&(a=t.position().left);j.scrollTop(0);v=a;var d=v===0,e=v==u,f=a/u,i=-f*(k-h);if(O!=d||Q!=e){O=d;Q=e;b.trigger("jsp-arrow-change",[N,P,O,Q])}ib(d,e);g.css("left",i);b.trigger("jsp-scroll-x",[-i,d,e]).trigger("scroll")}function hb(a,b){if(e.showArrows){B[a?"addClass":"removeClass"]("jspDisabled");C[b?"addClass":"removeClass"]("jspDisabled")}}function ib(a,b){if(e.showArrows){H[a?"addClass":"removeClass"]("jspDisabled");I[b?"addClass":"removeClass"]("jspDisabled")}}function jb(a,b){var c=a/(l-i);db(c*r,b)}function kb(a,b){var c=a/(k-h);fb(c*u,b)}function lb(b,c,d){var f,g,k,l=0,m=0,n,o,p,q,r,s;try{f=a(b)}catch(t){return}g=f.outerHeight();k=f.outerWidth();j.scrollTop(0);j.scrollLeft(0);while(!f.is(".jspPane")){l+=f.position().top;m+=f.position().left;f=f.offsetParent();if(/^body|html$/i.test(f[0].nodeName))return}n=nb();p=n+i;l<n||c?r=l-e.verticalGutter:l+g>p&&(r=l-i+g+e.verticalGutter);r&&jb(r,d);o=mb();q=o+h;m<o||c?s=m-e.horizontalGutter:m+k>q&&(s=m-h+k+e.horizontalGutter);s&&kb(s,d)}function mb(){return-g.position().left}function nb(){return-g.position().top}function ob(){var a=l-i;return a>20&&a-nb()<10}function pb(){var a=k-h;return a>20&&a-mb()<10}function qb(){j.unbind(S).bind(S,function(a,b,c,d){var g=v,h=s;f.scrollBy(c*e.mouseWheelSpeed,-d*e.mouseWheelSpeed,!1);return g==v&&h==s})}function rb(){j.unbind(S)}function sb(){return!1}function tb(){g.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){lb(a.target,!1)})}function ub(){g.find(":input,a").unbind("focus.jsp")}function vb(){function k(){var a=v,b=s;switch(c){case 40:f.scrollByY(e.keyboardSpeed,!1);break;case 38:f.scrollByY(-e.keyboardSpeed,!1);break;case 34:case 32:f.scrollByY(i*e.scrollPagePercent,!1);break;case 33:f.scrollByY(-i*e.scrollPagePercent,!1);break;case 39:f.scrollByX(e.keyboardSpeed,!1);break;case 37:f.scrollByX(-e.keyboardSpeed,!1)}d=a!=v||b!=s;return d}var c,d,h=[];p&&h.push(D[0]);o&&h.push(w[0]);g.focus(function(){b.focus()});b.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(b){if(b.target!==this&&(!h.length||!a(b.target).closest(h).length))return;var e=v,f=s;switch(b.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:c=b.keyCode;k();break;case 35:jb(l-i);c=null;break;case 36:jb(0);c=null}d=b.keyCode==c&&e!=v||f!=s;return!d}).bind("keypress.jsp",function(a){a.keyCode==c&&k();return!d});if(e.hideFocus){b.css("outline","none");"hideFocus"in j[0]&&b.attr("hideFocus",!0)}else{b.css("outline","");"hideFocus"in j[0]&&b.attr("hideFocus",!1)}}function wb(){b.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function xb(){if(location.hash&&location.hash.length>1){var b,c,d=escape(location.hash);try{b=a(d)}catch(e){return}if(b.length&&g.find(d))if(j.scrollTop()===0)c=setInterval(function(){if(j.scrollTop()>0){lb(d,!0);a(document).scrollTop(j.position().top);clearInterval(c)}},50);else{lb(d,!0);a(document).scrollTop(j.position().top)}}}function yb(){a("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function zb(){yb();a("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var a=this.href.split("#"),b;if(a.length>1){b=a[1];if(b.length>0&&g.find("#"+b).length>0){lb("#"+b,!0);return!1}}})}function Ab(){var a,b,c,d,e,g=!1;j.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(f){var h=f.originalEvent.touches[0];a=mb();b=nb();c=h.pageX;d=h.pageY;e=!1;g=!0}).bind("touchmove.jsp",function(h){if(!g)return;var i=h.originalEvent.touches[0],j=v,k=s;f.scrollTo(a+c-i.pageX,b+d-i.pageY);e=e||Math.abs(c-i.pageX)>5||Math.abs(d-i.pageY)>5;return j==v&&k==s}).bind("touchend.jsp",function(a){g=!1}).bind("click.jsp-touchclick",function(a){if(e){e=!1;return!1}})}function Bb(){var a=nb(),c=mb();b.removeClass("jspScrollable").unbind(".jsp");b.replaceWith(R.append(g.children()));R.scrollTop(a);R.scrollLeft(c)}var e,f=this,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N=!0,O=!0,P=!1,Q=!1,R=b.clone(!1,!1).empty(),S=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";K=b.css("paddingTop")+" "+b.css("paddingRight")+" "+b.css("paddingBottom")+" "+b.css("paddingLeft");L=(parseInt(b.css("paddingLeft"),10)||0)+(parseInt(b.css("paddingRight"),10)||0);a.extend(f,{reinitialise:function(b){b=a.extend({},e,b);T(b)},scrollToElement:function(a,b,c){lb(a,b,c)},scrollTo:function(a,b,c){kb(a,c);jb(b,c)},scrollToX:function(a,b){kb(a,b)},scrollToY:function(a,b){jb(a,b)},scrollToPercentX:function(a,b){kb(a*(k-h),b)},scrollToPercentY:function(a,b){jb(a*(l-i),b)},scrollBy:function(a,b,c){f.scrollByX(a,c);f.scrollByY(b,c)},scrollByX:function(a,b){var c=mb()+Math[a<0?"floor":"ceil"](a),d=c/(k-h);fb(d*u,b)},scrollByY:function(a,b){var c=nb()+Math[a<0?"floor":"ceil"](a),d=c/(l-i);db(d*r,b)},positionDragX:function(a,b){fb(a,b)},positionDragY:function(a,b){db(a,b)},animate:function(a,b,c,d){var f={};f[b]=c;a.animate(f,{duration:e.animateDuration,easing:e.animateEase,queue:!1,step:d})},getContentPositionX:function(){return mb()},getContentPositionY:function(){return nb()},getContentWidth:function(){return k},getContentHeight:function(){return l},getPercentScrolledX:function(){return mb()/(k-h)},getPercentScrolledY:function(){return nb()/(l-i)},getIsScrollableH:function(){return p},getIsScrollableV:function(){return o},getContentPane:function(){return g},scrollToBottom:function(a){db(r,a)},hijackInternalLinks:function(){zb()},destroy:function(){Bb()}});T(d)}b=a.extend({},a.fn.jScrollPane.defaults,b);a.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){b[this]=b[this]||b.speed});return this.each(function(){var c=a(this),f=c.data("jsp");if(f)f.reinitialise(b);else{f=new d(c,b);c.data("jsp",f)}})};a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}})(jQuery,this);(function(a){function c(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;b=a.event.fix(c);b.type="mousewheel";b.wheelDelta&&(e=b.wheelDelta/120);b.detail&&(e=-b.detail/3);h=e;if(c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS){h=0;g=-1*e}c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120);c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120);d.unshift(b,e,g,h);return a.event.handle.apply(this,d)}var b=["DOMMouseScroll","mousewheel"];a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],c,!1);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],c,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);(function(a){var b,c,d,e,f,g,h,i,j,k,l=0,m={},n=[],o=0,p={},q=[],r=null,s=new Image,t=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,u=/[^\.]\.(swf)\s*$/i,v,w=1,x=0,y="",z,A,B=!1,C=a.extend(a("<div/>")[0],{prop:0}),D=a.browser.msie&&a.browser.version<7&&!window.XMLHttpRequest,E=function(){c.hide();s.onerror=s.onload=null;r&&r.abort();b.empty()},F=function(){if(!1===m.onError(n,l,m)){c.hide();B=!1}else{m.titleShow=!1;m.width="auto";m.height="auto";b.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');H()}},G=function(){var d=n[l],e,f,h,i,j,k;E();m=a.extend({},a.fn.fancybox.defaults,typeof a(d).data("fancybox")=="undefined"?m:a(d).data("fancybox"));k=m.onStart(n,l,m);if(k===!1)B=!1;else{typeof k=="object"&&(m=a.extend(m,k));h=m.title||(d.nodeName?a(d).attr("title"):d.title)||"";d.nodeName&&!m.orig&&(m.orig=a(d).children("img:first").length?a(d).children("img:first"):a(d));h===""&&m.orig&&m.titleFromAlt&&(h=m.orig.attr("alt"));e=m.href||(d.nodeName?a(d).attr("href"):d.href)||null;if(/^(?:javascript)/i.test(e)||e=="#")e=null;if(m.type){f=m.type;e||(e=m.content)}else m.content?f="html":e&&(f=e.match(t)?"image":e.match(u)?"swf":a(d).hasClass("iframe")?"iframe":e.indexOf("#")===0?"inline":"ajax");if(f){if(f=="inline"){d=e.substr(e.indexOf("#"));f=a(d).length>0?"inline":"ajax"}m.type=f;m.href=e;m.title=h;if(m.autoDimensions)if(m.type=="html"||m.type=="inline"||m.type=="ajax"){m.width="auto";m.height="auto"}else m.autoDimensions=!1;if(m.modal){m.overlayShow=!0;m.hideOnOverlayClick=!1;m.hideOnContentClick=!1;m.enableEscapeButton=!1;m.showCloseButton=!1}m.padding=parseInt(m.padding,10);m.margin=parseInt(m.margin,10);b.css("padding",m.padding+m.margin);a(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){a(this).replaceWith(g.children())});switch(f){case"html":b.html(m.content);H();break;case"inline":if(a(d).parent().is("#fancybox-content")===!0){B=!1;break}a('<div class="fancybox-inline-tmp" />').hide().insertBefore(a(d)).bind("fancybox-cleanup",function(){a(this).replaceWith(g.children())}).bind("fancybox-cancel",function(){a(this).replaceWith(b.children())});a(d).appendTo(b);H();break;case"image":B=!1;a.fancybox.showActivity();s=new Image;s.onerror=function(){F()};s.onload=function(){B=!0;s.onerror=s.onload=null;m.width=s.width;m.height=s.height;a("<img />").attr({id:"fancybox-img",src:s.src,alt:m.title}).appendTo(b);I()};s.src=e;break;case"swf":m.scrolling="no";i='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+m.width+'" height="'+m.height+'"><param name="movie" value="'+e+'"></param>';j="";a.each(m.swf,function(a,b){i+='<param name="'+a+'" value="'+b+'"></param>';j+=" "+a+'="'+b+'"'});i+='<embed src="'+e+'" type="application/x-shockwave-flash" width="'+m.width+'" height="'+m.height+'"'+j+"></embed></object>";b.html(i);H();break;case"ajax":B=!1;a.fancybox.showActivity();m.ajax.win=m.ajax.success;r=a.ajax(a.extend({},m.ajax,{url:e,data:m.ajax.data||{},error:function(a){a.status>0&&F()},success:function(a,d,f){if((typeof f=="object"?f:r).status==200){if(typeof m.ajax.win=="function"){k=m.ajax.win(e,a,d,f);if(k===!1){c.hide();return}if(typeof k=="string"||typeof k=="object")a=k}b.html(a);H()}}}));break;case"iframe":I()}}else F()}},H=function(){var c=m.width,d=m.height;c=c.toString().indexOf("%")>-1?parseInt((a(window).width()-m.margin*2)*parseFloat(c)/100,10)+"px":c=="auto"?"auto":c+"px";d=d.toString().indexOf("%")>-1?parseInt((a(window).height()-m.margin*2)*parseFloat(d)/100,10)+"px":d=="auto"?"auto":d+"px";b.wrapInner('<div style="width:'+c+";height:"+d+";overflow: "+(m.scrolling=="auto"?"auto":m.scrolling=="yes"?"scroll":"hidden")+';position:relative;"></div>');m.width=b.width();m.height=b.height();I()},I=function(){var r,s;c.hide();if(e.is(":visible")&&!1===p.onCleanup(q,o,p)){a.event.trigger("fancybox-cancel");B=!1}else{B=!0;a(g.add(d)).unbind();a(window).unbind("resize.fb scroll.fb");a(document).unbind("keydown.fb");e.is(":visible")&&p.titlePosition!=="outside"&&e.css("height",e.height());q=n;o=l;p=m;if(p.overlayShow){d.css({"background-color":p.overlayColor,opacity:p.overlayOpacity,cursor:p.hideOnOverlayClick?"pointer":"auto",height:a(document).height()});if(!d.is(":visible")){D&&a("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});d.show()}}else d.hide();A=N();y=p.title||"";x=0;i.empty().removeAttr("style").removeClass();if(p.titleShow!==!1){a.isFunction(p.titleFormat)?r=p.titleFormat(y,q,o,p):r=y&&y.length?p.titlePosition=="float"?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+y+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+p.titlePosition+'">'+y+"</div>":!1;y=r;if(!!y&&y!==""){i.addClass("fancybox-title-"+p.titlePosition).html(y).appendTo("body").show();switch(p.titlePosition){case"inside":i.css({width:A.width-p.padding*2,marginLeft:p.padding,marginRight:p.padding});x=i.outerHeight(!0);i.appendTo(f);A.height+=x;break;case"over":i.css({marginLeft:p.padding,width:A.width-p.padding*2,bottom:p.padding}).appendTo(f);break;case"float":i.css("left",parseInt((i.width()-A.width-40)/2,10)*-1).appendTo(e);break;default:i.css({width:A.width-p.padding*2,paddingLeft:p.padding,paddingRight:p.padding}).appendTo(e)}}}i.hide();if(e.is(":visible")){a(h.add(j).add(k)).hide();r=e.position();z={top:r.top,left:r.left,width:e.width(),height:e.height()};s=z.width==A.width&&z.height==A.height;g.fadeTo(p.changeFade,.3,function(){var c=function(){g.html(b.contents(
)).fadeTo(p.changeFade,1,K)};a.event.trigger("fancybox-change");g.empty().removeAttr("filter").css({"border-width":p.padding,width:A.width-p.padding*2,height:m.autoDimensions?"auto":A.height-x-p.padding*2});if(s)c();else{C.prop=0;a(C).animate({prop:1},{duration:p.changeSpeed,easing:p.easingChange,step:L,complete:c})}})}else{e.removeAttr("style");g.css("border-width",p.padding);if(p.transitionIn=="elastic"){z=O();g.html(b.contents());e.show();p.opacity&&(A.opacity=0);C.prop=0;a(C).animate({prop:1},{duration:p.speedIn,easing:p.easingIn,step:L,complete:K})}else{p.titlePosition=="inside"&&x>0&&i.show();g.css({width:A.width-p.padding*2,height:m.autoDimensions?"auto":A.height-x-p.padding*2}).html(b.contents());e.css(A).fadeIn(p.transitionIn=="none"?0:p.speedIn,K)}}}},J=function(){(p.enableEscapeButton||p.enableKeyboardNav)&&a(document).bind("keydown.fb",function(b){if(b.keyCode==27&&p.enableEscapeButton){b.preventDefault();a.fancybox.close()}else if((b.keyCode==37||b.keyCode==39)&&p.enableKeyboardNav&&b.target.tagName!=="INPUT"&&b.target.tagName!=="TEXTAREA"&&b.target.tagName!=="SELECT"){b.preventDefault();a.fancybox[b.keyCode==37?"prev":"next"]()}});if(p.showNavArrows){(p.cyclic&&q.length>1||o!==0)&&j.show();(p.cyclic&&q.length>1||o!=q.length-1)&&k.show()}else{j.hide();k.hide()}},K=function(){if(!a.support.opacity){g.get(0).style.removeAttribute("filter");e.get(0).style.removeAttribute("filter")}m.autoDimensions&&g.css("height","auto");e.css("height","auto");y&&y.length&&i.show();p.showCloseButton&&h.show();J();p.hideOnContentClick&&g.bind("click",a.fancybox.close);p.hideOnOverlayClick&&d.bind("click",a.fancybox.close);a(window).bind("resize.fb",a.fancybox.resize);p.centerOnScroll&&a(window).bind("scroll.fb",a.fancybox.center);p.type=="iframe"&&a('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(a.browser.msie?'allowtransparency="true""':"")+' scrolling="'+m.scrolling+'" src="'+p.href+'"></iframe>').appendTo(g);e.show();B=!1;a.fancybox.center();p.onComplete(q,o,p);var b,c;if(q.length-1>o){b=q[o+1].href;if(typeof b!="undefined"&&b.match(t)){c=new Image;c.src=b}}if(o>0){b=q[o-1].href;if(typeof b!="undefined"&&b.match(t)){c=new Image;c.src=b}}},L=function(a){var b={width:parseInt(z.width+(A.width-z.width)*a,10),height:parseInt(z.height+(A.height-z.height)*a,10),top:parseInt(z.top+(A.top-z.top)*a,10),left:parseInt(z.left+(A.left-z.left)*a,10)};typeof A.opacity!="undefined"&&(b.opacity=a<.5?.5:a);e.css(b);g.css({width:b.width-p.padding*2,height:b.height-x*a-p.padding*2})},M=function(){return[a(window).width()-p.margin*2,a(window).height()-p.margin*2,a(document).scrollLeft()+p.margin,a(document).scrollTop()+p.margin]},N=function(){var a=M(),b={},c=p.autoScale,d=p.padding*2;b.width=p.width.toString().indexOf("%")>-1?parseInt(a[0]*parseFloat(p.width)/100,10):p.width+d;b.height=p.height.toString().indexOf("%")>-1?parseInt(a[1]*parseFloat(p.height)/100,10):p.height+d;if(c&&(b.width>a[0]||b.height>a[1]))if(m.type=="image"||m.type=="swf"){c=p.width/p.height;if(b.width>a[0]){b.width=a[0];b.height=parseInt((b.width-d)/c+d,10)}if(b.height>a[1]){b.height=a[1];b.width=parseInt((b.height-d)*c+d,10)}}else{b.width=Math.min(b.width,a[0]);b.height=Math.min(b.height,a[1])}b.top=parseInt(Math.max(a[3]-20,a[3]+(a[1]-b.height-40)*.5),10);b.left=parseInt(Math.max(a[2]-20,a[2]+(a[0]-b.width-40)*.5),10);return b},O=function(){var b=m.orig?a(m.orig):!1,c={};if(b&&b.length){c=b.offset();c.top+=parseInt(b.css("paddingTop"),10)||0;c.left+=parseInt(b.css("paddingLeft"),10)||0;c.top+=parseInt(b.css("border-top-width"),10)||0;c.left+=parseInt(b.css("border-left-width"),10)||0;c.width=b.width();c.height=b.height();c={width:c.width+p.padding*2,height:c.height+p.padding*2,top:c.top-p.padding-20,left:c.left-p.padding-20}}else{b=M();c={width:p.padding*2,height:p.padding*2,top:parseInt(b[3]+b[1]*.5,10),left:parseInt(b[2]+b[0]*.5,10)}}return c},P=function(){if(c.is(":visible")){a("div",c).css("top",w*-40+"px");w=(w+1)%12}else clearInterval(v)};a.fn.fancybox=function(b){if(!a(this).length)return this;a(this).data("fancybox",a.extend({},b,a.metadata?a(this).metadata():{})).unbind("click.fb").bind("click.fb",function(b){b.preventDefault();if(!B){B=!0;a(this).blur();n=[];l=0;b=a(this).attr("rel")||"";if(!b||b==""||b==="nofollow")n.push(this);else{n=a("a[rel="+b+"], area[rel="+b+"]");l=n.index(this)}G()}});return this};a.fancybox=function(b,c){var d;if(!B){B=!0;d=typeof c!="undefined"?c:{};n=[];l=parseInt(d.index,10)||0;if(a.isArray(b)){for(var e=0,f=b.length;e<f;e++)typeof b[e]=="object"?a(b[e]).data("fancybox",a.extend({},d,b[e])):b[e]=a({}).data("fancybox",a.extend({content:b[e]},d));n=jQuery.merge(n,b)}else{typeof b=="object"?a(b).data("fancybox",a.extend({},d,b)):b=a({}).data("fancybox",a.extend({content:b},d));n.push(b)}if(l>n.length||l<0)l=0;G()}};a.fancybox.showActivity=function(){clearInterval(v);c.show();v=setInterval(P,66)};a.fancybox.hideActivity=function(){c.hide()};a.fancybox.next=function(){return a.fancybox.pos(o+1)};a.fancybox.prev=function(){return a.fancybox.pos(o-1)};a.fancybox.pos=function(a){if(!B){a=parseInt(a);n=q;if(a>-1&&a<q.length){l=a;G()}else if(p.cyclic&&q.length>1){l=a>=q.length?0:q.length-1;G()}}};a.fancybox.cancel=function(){if(!B){B=!0;a.event.trigger("fancybox-cancel");E();m.onCancel(n,l,m);B=!1}};a.fancybox.close=function(){function b(){d.fadeOut("fast");i.empty().hide();e.hide();a.event.trigger("fancybox-cleanup");g.empty();p.onClosed(q,o,p);q=m=[];o=l=0;p=m={};B=!1}if(!B&&!e.is(":hidden")){B=!0;if(p&&!1===p.onCleanup(q,o,p))B=!1;else{E();a(h.add(j).add(k)).hide();a(g.add(d)).unbind();a(window).unbind("resize.fb scroll.fb");a(document).unbind("keydown.fb");g.find("iframe").attr("src",D&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank");p.titlePosition!=="inside"&&i.empty();e.stop();if(p.transitionOut=="elastic"){z=O();var c=e.position();A={top:c.top,left:c.left,width:e.width(),height:e.height()};p.opacity&&(A.opacity=1);i.empty().hide();C.prop=1;a(C).animate({prop:0},{duration:p.speedOut,easing:p.easingOut,step:L,complete:b})}else e.fadeOut(p.transitionOut=="none"?0:p.speedOut,b)}}};a.fancybox.resize=function(){d.is(":visible")&&d.css("height",a(document).height());a.fancybox.center(!0)};a.fancybox.center=function(a){var b,c;if(!B){c=a===!0?1:0;b=M();!c&&(e.width()>b[0]||e.height()>b[1])||e.stop().animate({top:parseInt(Math.max(b[3]-20,b[3]+(b[1]-g.height()-40)*.5-p.padding)),left:parseInt(Math.max(b[2]-20,b[2]+(b[0]-g.width()-40)*.5-p.padding))},typeof a=="number"?a:200)}};a.fancybox.init=function(){if(!a("#fancybox-wrap").length){a("body").append(b=a('<div id="fancybox-tmp"></div>'),c=a('<div id="fancybox-loading"><div></div></div>'),d=a('<div id="fancybox-overlay"></div>'),e=a('<div id="fancybox-wrap"></div>'));f=a('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(e);f.append(g=a('<div id="fancybox-content"></div>'),h=a('<a id="fancybox-close"></a>'),i=a('<div id="fancybox-title"></div>'),j=a('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),k=a('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));h.click(a.fancybox.close);c.click(a.fancybox.cancel);j.click(function(b){b.preventDefault();a.fancybox.prev()});k.click(function(b){b.preventDefault();a.fancybox.next()});a.fn.mousewheel&&e.bind("mousewheel.fb",function(b,c){if(B)b.preventDefault();else if(a(b.target).get(0).clientHeight==0||a(b.target).get(0).scrollHeight===a(b.target).get(0).clientHeight){b.preventDefault();a.fancybox[c>0?"prev":"next"]()}});a.support.opacity||e.addClass("fancybox-ie");if(D){c.addClass("fancybox-ie6");e.addClass("fancybox-ie6");a('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(f)}}};a.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};a(document).ready(function(){a.fancybox.init()})})(jQuery);(function(a,b,c){"use strict";var d=b.event,e=b.event.handle?"handle":"dispatch",f;d.special.smartresize={setup:function(){b(this).bind("resize",d.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",d.special.smartresize.handler)},handler:function(a,b){var c=this,g=arguments;a.type="smartresize",f&&clearTimeout(f),f=setTimeout(function(){d[e].apply(c,g)},b==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Mason=function(a,c){this.element=b(c),this._create(a),this._init()},b.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},b.Mason.prototype={_filterFindBricks:function(a){var b=this.options.itemSelector;return b?a.filter(b).add(a.find(b)):a},_getBricks:function(a){var b=this._filterFindBricks(a).css({position:"absolute"}).addClass("masonry-brick");return b},_create:function(c){this.options=b.extend(!0,{},b.Mason.settings,c),this.styleQueue=[];var d=this.element[0].style;this.originalStyle={height:d.height||""};var e=this.options.containerStyle;for(var f in e)this.originalStyle[f]=d[f]||"";this.element.css(e),this.horizontalDirection=this.options.isRTL?"right":"left";var g=this.element.css("padding-"+this.horizontalDirection),h=this.element.css("padding-top");this.offset={x:g?parseInt(g,10):0,y:h?parseInt(h,10):0},this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth=="function";var i=this;setTimeout(function(){i.element.addClass("masonry")},0),this.options.isResizable&&b(a).bind("smartresize.masonry",function(){i.resize()}),this.reloadItems()},_init:function(a){this._getColumns(),this._reLayout(a)},option:function(a,c){b.isPlainObject(a)&&(this.options=b.extend(!0,this.options,a))},layout:function(a,b){for(var c=0,d=a.length;c<d;c++)this._placeBrick(a[c]);var e={};e.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var f=0;c=this.cols;while(--c){if(this.colYs[c]!==0)break;f++}e.width=(this.cols-f)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:e});var g=this.isLaidOut?this.options.isAnimated?"animate":"css":"css",h=this.options.animationOptions,i;for(c=0,d=this.styleQueue.length;c<d;c++)i=this.styleQueue[c],i.$el[g](i.style,h);this.styleQueue=[],b&&b.call(a),this.isLaidOut=!0},_getColumns:function(){var a=this.options.isFitWidth?this.element.parent():this.element,b=a.width();this.columnWidth=this.isFluid?this.options.columnWidth(b):this.options.columnWidth||this.$bricks.outerWidth(!0)||b,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((b+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(a){var c=b(a),d,e,f,g,h;d=Math.ceil(c.outerWidth(!0)/this.columnWidth),d=Math.min(d,this.cols);if(d===1)f=this.colYs;else{e=this.cols+1-d,f=[];for(h=0;h<e;h++)g=this.colYs.slice(h,h+d),f[h]=Math.max.apply(Math,g)}var i=Math.min.apply(Math,f),j=0;for(var k=0,l=f.length;k<l;k++)if(f[k]===i){j=k;break}var m={top:i+this.offset.y};m[this.horizontalDirection]=this.columnWidth*j+this.offset.x,this.styleQueue.push({$el:c,style:m});var n=i+c.outerHeight(!0),o=this.cols+1-l;for(k=0;k<o;k++)this.colYs[j+k]=n},resize:function(){var a=this.cols;this._getColumns(),(this.isFluid||this.cols!==a)&&this._reLayout()},_reLayout:function(a){var b=this.cols;this.colYs=[];while(b--)this.colYs.push(0);this.layout(this.$bricks,a)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(a){this.reloadItems(),this._init(a)},appended:function(a,b,c){if(b){this._filterFindBricks(a).css({top:this.element.height()});var d=this;setTimeout(function(){d._appended(a,c)},1)}else this._appended(a,c)},_appended:function(a,b){var c=this._getBricks(a);this.$bricks=this.$bricks.add(c),this.layout(c,b)},remove:function(a){this.$bricks=this.$bricks.not(a),a.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var c=this.element[0].style;for(var d in this.originalStyle)c[d]=this.originalStyle[d];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),b(a).unbind(".masonry")}},b.fn.imagesLoaded=function(a){function c(){a.call(e,f)}function d(a){var e=a.target;e.src!==h&&b.inArray(e,i)===-1&&(i.push(e),--g<=0&&(setTimeout(c),f.unbind(".imagesLoaded",d)))}var e=this,f=e.find("img").add(e.filter("img")),g=f.length,h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",i=[];return g||c(),f.bind("load.imagesLoaded error.imagesLoaded",d).each(function(){var a=this.src;this.src=h,this.src=a}),e};var g=function(b){a.console&&a.console.error(b)};b.fn.masonry=function(a){if(typeof a=="string"){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=b.data(this,"masonry");if(!d){g("cannot call methods on masonry prior to initialization; attempted to call method '"+a+"'");return}if(!b.isFunction(d[a])||a.charAt(0)==="_"){g("no such method '"+a+"' for masonry instance");return}d[a].apply(d,c)})}else this.each(function(){var c=b.data(this,"masonry");c?(c.option(a||{}),c._init()):b.data(this,"masonry",new b.Mason(a,this))});return this}})(window,jQuery);(function(a,b,c){b.infinitescroll=function(c,d,e){this.element=b(e);this._create(c,d)||(this.failed=!0)};b.infinitescroll.defaults={loading:{finished:c,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"http://www.infinite-scroll.com/loading.gif",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:c},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,currPage:1},callback:c,debug:!1,behavior:c,binder:b(a),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:c,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:c,path:c};b.infinitescroll.prototype={_binding:function(b){var d=this,e=d.options;e.v="2.0b2.111027";if(!!e.behavior&&this["_binding_"+e.behavior]!==c){this["_binding_"+e.behavior].call(this);return}if(b!=="bind"&&b!=="unbind"){this._debug("Binding value  "+b+" not valid");return!1}b=="unbind"?this.options.binder.unbind("smartscroll.infscr."+d.options.infid):this.options.binder[b]("smartscroll.infscr."+d.options.infid,function(){d.scroll()});this._debug("Binding",b)},_create:function(d,e){var f=b.extend(!0,{},b.infinitescroll.defaults,d);if(!this._validate(d))return!1;this.options=f;var g=b(f.nextSelector).attr("href");if(!g){this._debug("Navigation selector not found");return!1}f.path=this._determinepath(g);f.contentSelector=f.contentSelector||this.element;f.loading.selector=f.loading.selector||f.contentSelector;f.loading.msg=b('<div id="infscr-loading"><img alt="Loading..." src="'+f.loading.img+'" /><div>'+f.loading.msgText+"</div></div>");(new Image).src=f.loading.img;f.pixelsFromNavToBottom=b(document).height()-b(f.navSelector).offset().top;f.loading.start=f.loading.start||function(){b(f.navSelector).hide();f.loading.msg.appendTo(f.loading.selector).show(f.loading.speed,function(){beginAjax(f)})};f.loading.finished=f.loading.finished||function(){};f.callback=function(a,d){!!f.behavior&&a["_callback_"+f.behavior]!==c&&a["_callback_"+f.behavior].call(b(f.contentSelector)[0],d);e&&e.call(b(f.contentSelector)[0],d,f)};this._setup();return!0},_debug:function(){if(this.options&&this.options.debug)return a.console&&console.log.call(console,arguments)},_determinepath:function(b){var d=this.options;if(!d.behavior||this["_determinepath_"+d.behavior]===c){if(!d.pathParse){if(b.match(/^(.*?)\b2\b(.*?$)/))b=b.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(b.match(/^(.*?)2(.*?$)/)){if(b.match(/^(.*?page=)2(\/.*|$)/)){b=b.match(/^(.*?page=)2(\/.*|$)/).slice(1);return b}b=b.match(/^(.*?)2(.*?$)/).slice(1)}else{if(b.match(/^(.*?page=)1(\/.*|$)/)){b=b.match(/^(.*?page=)1(\/.*|$)/).slice(1);return b}this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");d.state.isInvalidPage=!0}this._debug("determinePath",b);return b}this._debug("pathParse manual");return d.pathParse(b,this.options.state.currPage+1)}this["_determinepath_"+d.behavior].call(this,b);return},_error:function(b){var d=this.options;if(!!d.behavior&&this["_error_"+d.behavior]!==c){this["_error_"+d.behavior].call(this,b);return}b!=="destroy"&&b!=="end"&&(b="unknown");this._debug("Error",b);b=="end"&&this._showdonemsg();d.state.isDone=!0;d.state.currPage=1;d.state.isPaused=!1;this._binding("unbind")},_loadcallback:function(e,f){var g=this.options,h=this.options.callback,i=g.state.isDone?"done":g.appendCallback?"append":"no-append",j;if(!!g.behavior&&this["_loadcallback_"+g.behavior]!==c){this["_loadcallback_"+g.behavior].call(this,e,f);return}switch(i){case"done":this._showdonemsg();return!1;case"no-append":if(g.dataType=="html"){f="<div>"+f+"</div>";f=b(f).find(g.itemSelector)}break;case"append":var k=e.children();if(k.length==0)return this._error("end");j=document.createDocumentFragment();while(e[0].firstChild)j.appendChild(e[0].firstChild);this._debug("contentSelector",b(g.contentSelector)[0]);b(g.contentSelector)[0].appendChild(j);f=k.get()}g.loading.finished.call(b(g.contentSelector)[0],g);if(g.animate){var l=b(a).scrollTop()+b("#infscr-loading").height()+g.extraScrollPx+"px";b("html,body").animate({scrollTop:l},800,function(){g.state.isDuringAjax=!1})}g.animate||(g.state.isDuringAjax=!1);h(this,f)},_nearbottom:function(){var e=this.options,f=0+b(document).height()-e.binder.scrollTop()-b(a).height();if(!e.behavior||this["_nearbottom_"+e.behavior]===c){this._debug("math:",f,e.pixelsFromNavToBottom);return f-e.bufferPx<e.pixelsFromNavToBottom}return this["_nearbottom_"+e.behavior].call(this)},_pausing:function(b){var d=this.options;if(!d.behavior||this["_pausing_"+d.behavior]===c){b!=="pause"&&b!=="resume"&&b!==null&&this._debug("Invalid argument. Toggling pause value instead");b=!b||b!="pause"&&b!="resume"?"toggle":b;switch(b){case"pause":d.state.isPaused=!0;break;case"resume":d.state.isPaused=!1;break;case"toggle":d.state.isPaused=!d.state.isPaused}this._debug("Paused",d.state.isPaused);return!1}this["_pausing_"+d.behavior].call(this,b);return},_setup:function(){var b=this.options;if(!b.behavior||this["_setup_"+b.behavior]===c){this._binding("bind");return!1}this["_setup_"+b.behavior].call(this);return},_showdonemsg:function(){var d=this.options;if(!!d.behavior&&this["_showdonemsg_"+d.behavior]!==c){this["_showdonemsg_"+d.behavior].call(this);return}d.loading.msg.find("img").hide().parent().find("div").html(d.loading.finishedMsg).animate({opacity:1},2e3,function(){b(this).parent().fadeOut("normal")});d.errorCallback.call(b(d.contentSelector)[0],"done")},_validate:function(c){for(var d in c)if(d.indexOf&&d.indexOf("Selector")>-1&&b(c[d]).length===0){this._debug("Your "+d+" found no elements.");return!1}return!0},bind:function(){this._binding("bind")},destroy:function(){this.options.state.isDestroyed=!0;return this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},retrieve:function(d){var e=this,f=e.options,g=f.path,h,i,j,k,l,d=d||null,m=d?d:f.state.currPage;beginAjax=function(c){c.state.currPage++;e._debug("heading into ajax",g);h=b(c.contentSelector).is("table")?b("<tbody/>"):b("<div/>");j=g.join(c.state.currPage);k=c.dataType=="html"||c.dataType=="json"?c.dataType:"html+callback";c.appendCallback&&c.dataType=="html"&&(k+="+callback");switch(k){case"html+callback":e._debug("Using HTML via .load() method");h.load(j+" "+c.itemSelector,null,function(b){e._loadcallback(h,b)});break;case"html":case"json":e._debug("Using "+k.toUpperCase()+" via $.ajax() method");b.ajax({url:j,dataType:c.dataType,complete:function(b,c){l=typeof b.isResolved!="undefined"?b.isResolved():c==="success"||c==="notmodified";l?e._loadcallback(h,b.responseText):e._error("end")}})}};if(!!f.behavior&&this["retrieve_"+f.behavior]!==c){this["retrieve_"+f.behavior].call(this,d);return}if(f.state.isDestroyed){this._debug("Instance is destroyed");return!1}f.state.isDuringAjax=!0;f.loading.start.call(b(f.contentSelector)[0],f)},scroll:function(){var b=this.options,d=b.state;if(!!b.behavior&&this["scroll_"+b.behavior]!==c){this["scroll_"+b.behavior].call(this);return}if(d.isDuringAjax||d.isInvalidPage||d.isDone||d.isDestroyed||d.isPaused)return;if(!this._nearbottom())return;this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(c){b.isPlainObject(c)&&(this.options=b.extend(!0,this.options,c))}};b.fn.infinitescroll=function(c,d){var e=typeof c;switch(e){case"string":var f=Array.prototype.slice.call(arguments,1);this.each(function(){var a=b.data(this,"infinitescroll");if(!a)return!1;if(!b.isFunction(a[c])||c.charAt(0)==="_")return!1;a[c].apply(a,f)});break;case"object":this.each(function(){var a=b.data(this,"infinitescroll");if(a)a.update(c);else{a=new b.infinitescroll(c,d,this);a.failed||b.data(this,"infinitescroll",a)}})}return this};var d=b.event,e;d.special.smartscroll={setup:function(){b(this).bind("scroll",d.special.smartscroll.handler)},teardown:function(){b(this).unbind("scroll",d.special.smartscroll.handler)},handler:function(a,c){var d=this,f=arguments;a.type="smartscroll";e&&clearTimeout(e);e=setTimeout(function(){b.event.handle.apply(d,f)},c==="execAsap"?0:100)}};b.fn.smartscroll=function(a){return a?this.bind("smartscroll",a):this.trigger("smartscroll",["execAsap"])}})(window,jQuery);(function(a,b,c){"use strict";var d=a.document,e=a.Modernizr,f=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},g="Moz Webkit O Ms".split(" "),h=function(a){var b=d.documentElement.style,c;if(typeof b[a]=="string")return a;a=f(a);for(var e=0,h=g.length;e<h;e++){c=g[e]+a;if(typeof b[c]=="string")return c}},i=h("transform"),j=h("transitionProperty"),k={csstransforms:function(){return!!i},csstransforms3d:function(){var a=!!h("perspective");if(a){var c=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),d="@media ("+c.join("transform-3d),(")+"modernizr)",e=b("<style>"+d+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),f=b('<div id="modernizr" />').appendTo("html");a=f.height()===3,f.remove(),e.remove()}return a},csstransitions:function(){return!!j}},l;if(e)for(l in k)e.hasOwnProperty(l)||e.addTest(l,k[l]);else{e=a.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var m=" ",n;for(l in k)n=k[l](),e[l]=n,m+=" "+(n?"":"no-")+l;b("html").addClass(m)}if(e.csstransforms){var o=e.csstransforms3d?{translate:function(a){return"translate3d("+a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},p=function(a,c,d){var e=b.data(a,"isoTransform")||{},f={},g,h={},j;f[c]=d,b.extend(e,f);for(g in e)j=e[g],h[g]=o[g](j);var k=h.translate||"",l=h.scale||"",m=k+l;b.data(a,"isoTransform",e),a.style[i]=m};b.cssNumber.scale=!0,b.cssHooks.scale={set:function(a,b){p(a,"scale",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.scale?d.scale:1}},b.fx.step.scale=function(a){b.cssHooks.scale.set(a.elem,a.now+a.unit)},b.cssNumber.translate=!0,b.cssHooks.translate={set:function(a,b){p(a,"translate",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.translate?d.translate:[0,0]}}}var q,r;e.csstransitions&&(q={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[j],r=h("transitionDuration"));var s=b.event,t=b.event.handle?"handle":"dispatch",u;s.special.smartresize={setup:function(){b(this).bind("resize",s.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",s.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize",u&&clearTimeout(u),u=setTimeout(function(){s[t].apply(c,d)},b==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Isotope=function(a,c,d){this.element=b(c),this._create(a),this._init(d)};var v=["width","height"],w=b(a);b.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},b.Isotope.prototype={_create:function(a){this.options=b.extend({},b.Isotope.settings,a),this.styleQueue=[],this.elemCount=0;var c=this.element[0].style;this.originalStyle={};var d=v.slice(0);for(var e in this.options.containerStyle)d.push(e);for(var f=0,g=d.length;f<g;f++)e=d[f],this.originalStyle[e]=c[e]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var h={"original-order":function(a,b){return b.elemCount++,b.elemCount},random:function(){return Math.random()}};this.options.getSortData=b.extend(this.options.getSortData,h),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var i=this;setTimeout(function(){i.element.addClass(i.options.containerClass)},0),this.options.resizable&&w.bind("smartresize.isotope",function(){i.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector,c=b?a.filter(b).add(a.find(b)):a,d={position:"absolute"};return c=c.filter(function(a,b){return b.nodeType===1}),this.usingTransforms&&(d.left=0,d.top=0),c.css(d).addClass(this.options.itemClass),this.updateSortData(c,!0),c},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(a)},option:function(a){if(b.isPlainObject(a)){this.options=b.extend(!0,this.options,a);var c;for(var d in a)c="_update"+f(d),this[c]&&this[c]()}},_updateAnimationEngine:function(){var a=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),b;switch(a){case"css":case"none":b=!1;break;case"jquery":b=!0;break;default:b=!e.csstransitions}this.isUsingJQueryAnimation=b,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var a=this.usingTransforms=this.options.transformsEnabled&&e.csstransforms&&e.csstransitions&&!this.isUsingJQueryAnimation;a||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=a?this._translate:this._positionAbs},_filter:function(a){var b=this.options.filter===""?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d="."+c,e=a.filter(d),f=e;if(b!=="*"){f=e.filter(b);var g=a.not(d).not(b).addClass(c);this.styleQueue.push({$el:g,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:f,style:this.options.visibleStyle}),f.removeClass(c),a.filter(b)},updateSortData:function(a,c){var d=this,e=this.options.getSortData,f,g;a.each(function(){f=b(this),g={};for(var a in e)!c&&a==="original-order"?g[a]=b.data(this,"isotope-sort-data")[a]:g[a]=e[a](f,d);b.data(this,"isotope-sort-data",g)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1,d=function(d,e){var f=b(d,a),g=b(e,a);return f===g&&a!=="original-order"&&(f=b(d,"original-order"),g=b(e,"original-order")),(f>g?1:f<g?-1:0)*c};this.$filteredAtoms.sort(d)},_getSorter:function(a,c){return b.data(a,"isotope-sort-data")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){b=Math.round(b+this.offset.left),c=Math.round(c+this.offset.top);var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d}),this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;this["_"+c+"Layout"](a);if(this.options.resizesContainer){var d=this["_"+c+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:d})}this._processStyleQueue(a,b),this.isLaidOut=!0},_processStyleQueue:function(a,c){var d=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",f=this.options.animationOptions,g=this.options.onLayout,h,i,j,k;i=function(a,b){b.$el[d](b.style,f)};if(this._isInserting&&this.isUsingJQueryAnimation)i=function(a,b){h=b.$el.hasClass("no-transition")?"css":d,b.$el[h](b.style,f)};else if(c||g||f.complete){var l=!1,m=[c,g,f.complete],n=this;j=!0,k=function(){if(l)return;var b;for(var c=0,d=m.length;c<d;c++)b=m[c],typeof b=="function"&&b.call(n.element,a,n);l=!0};if(this.isUsingJQueryAnimation&&d==="animate")f.complete=k,j=!1;else if(e.csstransitions){var o=0,p=this.styleQueue[0],s=p&&p.$el,t;while(!s||!s.length){t=this.styleQueue[o++];if(!t)return;s=t.$el}var u=parseFloat(getComputedStyle(s[0])[r]);u>0&&(i=function(a,b){b.$el[d](b.style,f).one(q,k)},j=!1)}}b.each(this.styleQueue,i),j&&k(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c),b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){var d=c._filter(a);c._addHideAppended(d),c._sort(),c.reLayout(),c._revealAppended(d,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a),c.layout(a),c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a),a.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:a,style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition"),c.styleQueue.push({$el:a,style:c.options.visibleStyle}),c._isInserting=!1,c._processStyleQueue(a,b)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a,b){this.$allAtoms=this.$allAtoms.not(a),this.$filteredAtoms=this.$filteredAtoms.not(a);var c=this,d=function(){a.remove(),b&&b.call(c.element)};a.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:a,style:this.options.hiddenStyle}),this._sort(),this.reLayout(d)):d()},shuffle:function(a){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(a)},destroy:function(){var a=this.usingTransforms,b=this.options;this.$allAtoms.removeClass(b.hiddenClass+" "+b.itemClass).each(function(){var b=this.style;b.position="",b.top="",b.left="",b.opacity="",a&&(b[i]="")});var c=this.element[0].style;for(var d in this.originalStyle)c[d]=this.originalStyle[d];this.element.unbind(".isotope").undelegate("."+b.hiddenClass,"click").removeClass(b.containerClass).removeData("isotope"),w.unbind(".isotope")},_getSegments:function(a){var b=this.options.layoutMode,c=a?"rowHeight":"columnWidth",d=a?"height":"width",e=a?"rows":"cols",g=this.element[d](),h,i=this.options[b]&&this.options[b][c]||this.$filteredAtoms["outer"+f(d)](!0)||g;h=Math.floor(g/i),h=Math.max(h,1),this[b][e]=h,this[b][c]=i},_checkIfSegmentsChanged
:function(a){var b=this.options.layoutMode,c=a?"rows":"cols",d=this[b][c];return this._getSegments(a),this[b][c]!==d},_masonryReset:function(){this.masonry={},this._getSegments();var a=this.masonry.cols;this.masonry.colYs=[];while(a--)this.masonry.colYs.push(0)},_masonryLayout:function(a){var c=this,d=c.masonry;a.each(function(){var a=b(this),e=Math.ceil(a.outerWidth(!0)/d.columnWidth);e=Math.min(e,d.cols);if(e===1)c._masonryPlaceBrick(a,d.colYs);else{var f=d.cols+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.colYs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryPlaceBrick(a,g)}})},_masonryPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=this.masonry.columnWidth*d,h=c;this._pushPosition(a,g,h);var i=c+a.outerHeight(!0),j=this.masonry.cols+1-f;for(e=0;e<j;e++)this.masonry.colYs[d+e]=i},_masonryGetContainerSize:function(){var a=Math.max.apply(Math,this.masonry.colYs);return{height:a}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(a){var c=this,d=this.element.width(),e=this.fitRows;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.x!==0&&f+e.x>d&&(e.x=0,e.y=e.height),c._pushPosition(a,e.x,e.y),e.height=Math.max(e.y+g,e.height),e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(a){var c=this,d=this.cellsByRow;a.each(function(){var a=b(this),e=d.index%d.cols,f=Math.floor(d.index/d.cols),g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,0,c.straightDown.y),c.straightDown.y+=d.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var a=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(a--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var c=this,d=c.masonryHorizontal;a.each(function(){var a=b(this),e=Math.ceil(a.outerHeight(!0)/d.rowHeight);e=Math.min(e,d.rows);if(e===1)c._masonryHorizontalPlaceBrick(a,d.rowXs);else{var f=d.rows+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.rowXs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryHorizontalPlaceBrick(a,g)}})},_masonryHorizontalPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=c,h=this.masonryHorizontal.rowHeight*d;this._pushPosition(a,g,h);var i=c+a.outerWidth(!0),j=this.masonryHorizontal.rows+1-f;for(e=0;e<j;e++)this.masonryHorizontal.rowXs[d+e]=i},_masonryHorizontalGetContainerSize:function(){var a=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:a}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var c=this,d=this.element.height(),e=this.fitColumns;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.y!==0&&g+e.y>d&&(e.x=e.width,e.y=0),c._pushPosition(a,e.x,e.y),e.width=Math.max(e.x+f,e.width),e.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(a){var c=this,d=this.cellsByColumn;a.each(function(){var a=b(this),e=Math.floor(d.index/d.rows),f=d.index%d.rows,g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,c.straightAcross.x,0),c.straightAcross.x+=d.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},b.fn.imagesLoaded=function(a){function c(){a.call(e,f)}function d(a){var e=a.target;e.src!==h&&b.inArray(e,i)===-1&&(i.push(e),--g<=0&&(setTimeout(c),f.unbind(".imagesLoaded",d)))}var e=this,f=e.find("img").add(e.filter("img")),g=f.length,h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",i=[];return g||c(),f.bind("load.imagesLoaded error.imagesLoaded",d).each(function(){var a=this.src;this.src=h,this.src=a}),e};var x=function(b){a.console&&a.console.error(b)};b.fn.isotope=function(a,c){if(typeof a=="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var c=b.data(this,"isotope");if(!c){x("cannot call methods on isotope prior to initialization; attempted to call method '"+a+"'");return}if(!b.isFunction(c[a])||a.charAt(0)==="_"){x("no such method '"+a+"' for isotope instance");return}c[a].apply(c,d)})}else this.each(function(){var d=b.data(this,"isotope");d?(d.option(a),d._init(c)):b.data(this,"isotope",new b.Isotope(a,this,c))});return this}})(window,jQuery);